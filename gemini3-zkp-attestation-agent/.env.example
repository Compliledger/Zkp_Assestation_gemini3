# ============================================
# APPLICATION
# ============================================
APP_NAME=zkpa
APP_ENV=development
APP_VERSION=1.0.0
LOG_LEVEL=info
DEBUG=true

# ============================================
# SERVER
# ============================================
HOST=0.0.0.0
# Railway automatically provides PORT env var - don't set this in Railway
PORT=8000
WORKERS=4
RELOAD=false

# ============================================
# DATABASE
# ============================================
DATABASE_URL=postgresql://zkpa_user:zkpa_password@localhost:5432/zkpa_dev
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_ECHO=false

# ============================================
# SECURITY - JWT
# ============================================
JWT_SECRET=
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ============================================
# SECURITY - ENCRYPTION
# ============================================
ENCRYPTION_KEY=
ENCRYPTION_ALGORITHM=AES-256-GCM
KMS_PROVIDER=local
KMS_AWS_REGION=us-east-1
KMS_AWS_KEY_ID=
KMS_AZURE_VAULT_URL=
KMS_AZURE_KEY_NAME=

# ============================================
# STORAGE
# ============================================
STORAGE_BACKEND=local
STORAGE_BUCKET=zkpa-evidence
STORAGE_REGION=us-east-1
STORAGE_LOCAL_PATH=./storage

# AWS S3
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=

# Azure Blob
AZURE_STORAGE_ACCOUNT=
AZURE_STORAGE_KEY=
AZURE_CONTAINER_NAME=

# ============================================
# BLOCKCHAIN ANCHORING SERVICE
# ============================================
ANCHORING_SERVICE_URL=http://localhost:9000
ANCHORING_SERVICE_TOKEN=
ANCHORING_ENABLED=true
ANCHORING_DEFAULT_CHAIN=ethereum
ANCHORING_TIMEOUT=60

# ============================================
# RMF ENGINE INTEGRATION
# ============================================
RMF_ENGINE_WEBHOOK_URL=http://localhost:3000/api/webhooks/zkp-callback
RMF_ENGINE_AUTH_TOKEN=
RMF_ENGINE_TIMEOUT=30

# ============================================
# PROOF ENGINE
# ============================================
PROOF_GENERATION_TIMEOUT=300
PROOF_VERIFICATION_TIMEOUT=30
MAX_CONCURRENT_PROOFS=10
CIRCUIT_CACHE_ENABLED=true
CIRCUIT_CACHE_TTL=3600

# Proof Library Selection
ZKP_LIBRARY=py-zkp
CIRCOM_PATH=/usr/local/bin/circom
SNARKJS_PATH=/usr/local/bin/snarkjs

# ============================================
# EVIDENCE PROCESSING
# ============================================
MAX_EVIDENCE_SIZE_MB=100
MAX_EVIDENCE_COUNT=1000
EVIDENCE_COMPRESSION=true
MERKLE_HASH_ALGORITHM=SHA256

# ============================================
# ATTESTATION SETTINGS
# ============================================
DEFAULT_VALIDITY_DAYS=90
MAX_VALIDITY_DAYS=365
ATTESTATION_AUTO_EXPIRE=true
ATTESTATION_RENEWAL_DAYS_BEFORE=30

# ============================================
# TENANT ISOLATION
# ============================================
MULTI_TENANT_ENABLED=true
TENANT_ISOLATION_LEVEL=database

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================
# CORS
# ============================================
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOW_CREDENTIALS=true

# ============================================
# MONITORING
# ============================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ============================================
# BACKGROUND JOBS
# ============================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_ALWAYS_EAGER=false

# ============================================
# ALGORAND ON-CHAIN ANCHORING
# ============================================
# Algorand TestNet API (AlgoNode public endpoint)
ALGORAND_API_URL=https://testnet-api.algonode.cloud
ALGORAND_API_TOKEN=
ALGORAND_INDEXER_URL=https://testnet-idx.algonode.cloud
ALGORAND_NETWORK=testnet

# Server-side signer mnemonic (25 words)
# IMPORTANT: Fund this address with TestNet ALGO before use
ALGORAND_MNEMONIC=

# Optional: explicit address for scripts that prompt you to fund a specific account
ALGORAND_ACCOUNT_ADDRESS=

# Anchoring smart contract app ID (set after deploying via API or smoke test)
# Deploy first, then set this value to avoid re-deploying each time
ALGORAND_ANCHOR_APP_ID=

# ============================================
# TESTING
# ============================================
TEST_DATABASE_URL=postgresql://zkpa_user:zkpa_password@localhost:5432/zkpa_test
MOCK_ANCHORING_SERVICE=true
MOCK_RMF_ENGINE=true
