# ============================================
# PRODUCTION ENVIRONMENT VARIABLES FOR RAILWAY
# ============================================
# Copy these to Railway Dashboard â†’ Variables
# DO NOT commit actual secrets to git!

# ============================================
# APPLICATION
# ============================================
APP_NAME=zkpa
APP_ENV=production
APP_VERSION=1.0.0
LOG_LEVEL=info
DEBUG=false

# ============================================
# SERVER (Railway auto-sets PORT)
# ============================================
HOST=0.0.0.0
WORKERS=4
RELOAD=false

# ============================================
# DATABASE (Railway auto-sets this with PostgreSQL)
# ============================================
# DATABASE_URL will be automatically set by Railway PostgreSQL service
# Format: postgresql://user:password@host:5432/dbname
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_ECHO=false

# ============================================
# SECURITY - JWT (REQUIRED - GENERATE SECURE VALUES!)
# ============================================
# Generate with: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_TO_SECURE_RANDOM_STRING_32_BYTES
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ============================================
# SECURITY - ENCRYPTION (REQUIRED - GENERATE SECURE VALUES!)
# ============================================
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=CHANGE_ME_TO_SECURE_RANDOM_STRING_32_BYTES
ENCRYPTION_ALGORITHM=AES-256-GCM
KMS_PROVIDER=local

# ============================================
# STORAGE (Update for production)
# ============================================
STORAGE_BACKEND=local
STORAGE_LOCAL_PATH=./storage

# Optional: Use S3 for production
# STORAGE_BACKEND=s3
# AWS_ACCESS_KEY_ID=your_aws_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret
# AWS_S3_BUCKET=your-zkpa-bucket
# STORAGE_REGION=us-east-1

# ============================================
# ALGORAND ON-CHAIN ANCHORING (Optional)
# ============================================
ALGORAND_API_URL=https://testnet-api.algonode.cloud
ALGORAND_API_TOKEN=
ALGORAND_INDEXER_URL=https://testnet-idx.algonode.cloud
ALGORAND_NETWORK=testnet

# IMPORTANT: Fund this account at https://bank.testnet.algorand.network/
# Generate mnemonic: python -c "from algosdk import account, mnemonic; pk, addr = account.generate_account(); print(mnemonic.from_private_key(pk))"
ALGORAND_MNEMONIC=

# Set after deploying anchor contract
ALGORAND_ANCHOR_APP_ID=

# ============================================
# ANCHORING (Optional external service)
# ============================================
ANCHORING_ENABLED=true
ANCHORING_DEFAULT_CHAIN=ethereum
ANCHORING_TIMEOUT=60

# ============================================
# PROOF ENGINE
# ============================================
PROOF_GENERATION_TIMEOUT=300
PROOF_VERIFICATION_TIMEOUT=30
MAX_CONCURRENT_PROOFS=10
CIRCUIT_CACHE_ENABLED=true
CIRCUIT_CACHE_TTL=3600
ZKP_LIBRARY=py-zkp

# ============================================
# EVIDENCE PROCESSING
# ============================================
MAX_EVIDENCE_SIZE_MB=100
MAX_EVIDENCE_COUNT=1000
EVIDENCE_COMPRESSION=true
MERKLE_HASH_ALGORITHM=SHA256

# ============================================
# ATTESTATION SETTINGS
# ============================================
DEFAULT_VALIDITY_DAYS=90
MAX_VALIDITY_DAYS=365
ATTESTATION_AUTO_EXPIRE=true
ATTESTATION_RENEWAL_DAYS_BEFORE=30

# ============================================
# TENANT ISOLATION
# ============================================
MULTI_TENANT_ENABLED=true
TENANT_ISOLATION_LEVEL=database

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================
# CORS (Update with your frontend URL)
# ============================================
CORS_ENABLED=true
CORS_ORIGINS=["https://your-frontend.railway.app","https://yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true

# ============================================
# MONITORING (Optional but recommended)
# ============================================
# Get Sentry DSN from: https://sentry.io
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus metrics (Railway has built-in metrics)
PROMETHEUS_ENABLED=true

# ============================================
# BACKGROUND JOBS (Optional - requires Redis)
# ============================================
# Add Redis from Railway dashboard if needed
# CELERY_BROKER_URL=redis://redis.railway.internal:6379/0
# CELERY_RESULT_BACKEND=redis://redis.railway.internal:6379/0
CELERY_TASK_ALWAYS_EAGER=false

# ============================================
# TESTING (Not needed in production)
# ============================================
MOCK_ANCHORING_SERVICE=false
MOCK_RMF_ENGINE=false
